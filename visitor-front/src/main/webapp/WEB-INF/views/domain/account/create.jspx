<html xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:jsp="http://java.sun.com/JSP/Page" 
xmlns:decorator="http://www.opensymphony.com/sitemesh/decorator" xmlns:c="http://java.sun.com/jsp/jstl/core" 
xmlns:form="http://www.springframework.org/tags/form" xmlns:security="http://www.springframework.org/security/tags" 
xmlns:spring="http://www.springframework.org/tags" xmlns:fn="http://java.sun.com/jsp/jstl/functions" version="2.0">
<jsp:output omit-xml-declaration="yes" />
<jsp:directive.page contentType="text/html; charset=UTF-8" />
<head>
	<title><spring:message code="account" />: <spring:message code="crud.functionalities.create" /></title>
</head>
<body>
	<a href="${pageContext.request.contextPath}/domain/account/search" class="ajaxy button button-search"><spring:message code="account" /></a>
	<span class="ui-state-highlight button button-create"><spring:message code="crud.functionalities.create" /></span>
	<form:form action="${pageContext.request.contextPath}/domain/account/create" modelAttribute="account" method="POST">
		<form:errors cssClass="error"/>
		<form:hidden path="accountId"/>
		<table class="create">
			<tbody>
				<tr>
					<th><spring:message code="account_username" /> <em>*</em></th>
					<td>
						<form:input path="username" cssClass="required {maxlength: 200}" maxlength="200" size="30"/>
						<form:errors path="username" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="account_nickname" /> <em>*</em></th>
					<td>
						<form:input path="nickname" cssClass="required {maxlength: 200}" maxlength="200" size="30"/>
						<form:errors path="nickname" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="account_password" /> <em>*</em></th>
					<td>
						<form:password path="password" cssClass="required {maxlength: 200}"/>
						<form:errors path="password" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="account_email" /></th>
					<td>
						<form:input path="email" cssClass="email {maxlength: 200}" maxlength="200" size="40"/>
						<form:errors path="email" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="account_type" /></th>
					<td>
						<form:radiobutton path="type" value="0" checked="checked"/><spring:message code="account_type_person" />
						<form:radiobutton path="type" value="1" /><spring:message code="account_type_company" />
						<form:errors path="type" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="account_role" /></th>
					<td>
						<c:forEach items="${sys_roles}" var="role" varStatus="status">
								<c:choose>
									<c:when test="${fn:contains(roles,role)}">
										<input type="checkbox" id="${role.roleId}" name="roleIds" value="${role.roleId}" checked="checked"/>
									</c:when>
									<c:otherwise>
										<input type="checkbox" id="${role.roleId}" name="roleIds" value="${role.roleId}" />
									</c:otherwise>
								</c:choose>
								${role.roleDes}
						</c:forEach>
					</td>
				</tr>				
			</tbody>
			<tfoot>
				<tr>
					<td colspan="2">
						<spring:message code="crud.save.button" var="buttonValue" />
						<input type="submit" class="button button-save" value="${buttonValue}"/>
					</td>
				</tr>
			</tfoot>
		</table>
		
	</form:form>
</body>
</html>