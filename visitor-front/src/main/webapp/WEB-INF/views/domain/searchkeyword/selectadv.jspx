<html xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:jsp="http://java.sun.com/JSP/Page" 
xmlns:decorator="http://www.opensymphony.com/sitemesh/decorator" xmlns:c="http://java.sun.com/jsp/jstl/core" 
xmlns:form="http://www.springframework.org/tags/form" xmlns:security="http://www.springframework.org/security/tags" 
xmlns:spring="http://www.springframework.org/tags" version="2.0">
<jsp:output omit-xml-declaration="yes" />
<jsp:directive.page contentType="text/html; charset=UTF-8" />
<head>
	<title><spring:message code="searchKeyword" />: <spring:message code="searchKeyword_idlist" /></title>
	<script type="text/javascript">
		function deleteCheck(){
			var itemIds=document.getElementsByName("itemIds");
			
			var count=0;
			var ids="";
			for(var i=0;i &lt; itemIds.length;i++){
				if(itemIds[i].checked){
					count++;
					ids= ids + itemIds[i].value + "_";
				}
			}
			
			if(count==0){
				alert("请至少选择一条记录！");
			}else{
				$.ajax( {
					type : "GET",
					url : "${pageContext.request.contextPath}/domain/searchkeyword/appenditem/${searchKeyword.primaryKey}/" + ids,
					success : function(data) {
					    eval("data = " + data);
						if(data.error=='0'){
							/*refreash current page*/
							window.document.location.href="${pageContext.request.contextPath}/domain/searchkeyword/idlist/${searchKeyword.primaryKey}";
						}else{
							alert("您所选择的部分广告字段不全，请补全后选择！");
						}
					}
				})
			}
		}
		
		function changeCheckState(check_style){
			var itemIds=document.getElementsByName("itemIds");
			
			var count=0;
			var ids="";
			
			var checked = true;
			if(check_style=="1"){
				checked = false;
			}
			
			for(var i=0;i &lt; itemIds.length;i++){
				if(itemIds[i].checked == checked){
					itemIds[i].checked = !checked;
				}
			}	
		}
	</script>
	<STYLE>
		.btnSpace {
			margin-right:10px;
		}
	</STYLE>
</head>
<body>
	<a href="${pageContext.request.contextPath}/domain/searchkeyword/search" class="ajaxy button button-search"><spring:message code="searchKeyword" /></a>
	<a href="${pageContext.request.contextPath}/domain/searchkeyword/show/${searchKeyword.primaryKey}" class="button button-show"><spring:message code="crud.show.button" /></a>
	<a href="${pageContext.request.contextPath}/domain/searchkeyword/update/${searchKeyword.primaryKey}" class="ajaxy button button-edit"><spring:message code="crud.edit.button" /></a>
	<a href="${pageContext.request.contextPath}/domain/searchkeyword/delete/${searchKeyword.primaryKey}" class="modal button button-delete"><spring:message code="crud.delete.button" /></a>
	<span class="ui-state-highlight button button-show"><spring:message code="searchKeyword_idlist" /></span>
	
	<!--show form ,to edit the id list -->
		<table class="show">
			<tbody>
				<tr>
					<th><spring:message code="searchKeyword_name" /></th>
					<td><spring:eval expression="searchKeyword.name"/></td>
					<td><spring:message code="searchKeyword_wordKind"/></td>
					<td>
						<c:if test="${searchKeyword.wordKind == 1}">
							<spring:message code="searchKeyword_prd" />
						</c:if>
						<c:if test="${searchKeyword.wordKind == 2}">
							<spring:message code="searchKeyword_fld" />
						</c:if>
						<c:if test="${searchKeyword.wordKind == 3}">
							<spring:message code="searchKeyword_adv" />
						</c:if>
					</td>
				</tr>
				<tr>
					<th><spring:message code="searchKeyword_ids" /></th>
					<td colspan="3">${searchKeyword.idList}</td>
				</tr>
			</tbody>
		</table>
		
	<!--show search form-->
	<form:form action="${pageContext.request.contextPath}/domain/searchkeyword/advlist" modelAttribute="advertiseSearchForm" class="search">
		<table class="show">
			<tbody>
				<tr>
					<th>
						<spring:message code="advertise_advertiseId" />
					</th>
					<td>
						<form:input path="advertise.advertiseId" cssClass="number"/>
						<form:errors path="advertise.advertiseId" cssClass="error" />
					</td>
					<th>
						<spring:message code="advertise_name" />
					</th>
					<td>
						<form:input path="advertise.name" />
						<form:errors path="advertise.name" cssClass="error" />
					</td>
				</tr>
				<tr>
					<th>
						<spring:message code="advertise_type" />
					</th>
					<td>
						<form:select path="advertise.type">
							<form:option value=""><spring:message code="ANY" /></form:option>
							<form:option value="0"><spring:message code="advertise_typeUrl" /></form:option>
							<form:option value="1"><spring:message code="advertise_typeFolder" /></form:option>
							<form:option value="2"><spring:message code="advertise_typeProduct" /></form:option>
						</form:select>
						<form:errors path="advertise.type" cssClass="error" />
					</td>
					<th>
						<spring:message code="advertise_status" />
					</th>
					<td>
						<form:hidden value="0" path="advertise.status" /><spring:message code="Available" />
					</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="5">
						<spring:message code="crud.search.button" var="btnMessage"/>
						<input type="submit" class="button button-search" value="${btnMessage}" />
					</td>
				</tr>
			</tfoot>
		</table>
	</form:form>
	<!--show search form end-->	
	<jsp:include page="/domain/searchkeyword/advlist" />
</body>
</html>