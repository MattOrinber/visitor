<html xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:decorator="http://www.opensymphony.com/sitemesh/decorator" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fmt="http://java.sun.com/jsp/jstl/fmt" xmlns:form="http://www.springframework.org/tags/form" xmlns:security="http://www.springframework.org/security/tags" xmlns:spring="http://www.springframework.org/tags">

<jsp:output omit-xml-declaration="yes" />
<jsp:directive.page contentType="text/html; charset=UTF-8" />

<head>
	<title><spring:message code="label" />: <spring:message code="crud.functionalities.show" /></title>
</head>
<body>

	<a href="${pageContext.request.contextPath}/domain/label/search" class="ajaxy button button-search"><spring:message code="label" /></a>
	<span class="ui-state-highlight button button-show"><spring:message code="crud.show.button" /></span>
    <a href="${pageContext.request.contextPath}/domain/label/update/${label.labelId}" class="button button-edit"><spring:message code="crud.edit.button" /></a>
    <a href="${pageContext.request.contextPath}/domain/label/addProduct?labelId=${label.labelId}"
            class="button button-create"><spring:message code="folder_product_add" /> </a>
	<!--<a href="${pageContext.request.contextPath}/domain/label/update/${recommandContainer.primaryKey}" class="ajaxy button button-edit"><spring:message code="crud.edit.button" /></a>-->
	<!--<a href="${pageContext.request.contextPath}/domain/label/addproduct?containerId=${recommandContainer.primaryKey}" class="ajaxy button button-create"><spring:message code="recommandContainer_add" /></a>-->
	<!--&lt;!&ndash; ###### 定时产品，20130105 by macs &ndash;&gt;-->
	<table class="show">
		<tbody>
			<tr>
				<th><spring:message code="label_name" /></th>
				<td><spring:eval expression="label.name"/></td>
				<th><spring:message code="label_create_by" /></th>
				<td><spring:eval expression="label.createBy"/></td>
			</tr>
			<tr>
				<th><spring:message code="label_modify_date" /></th>
				<td><spring:eval expression="label.modifyDate"/></td>
				<th><spring:message code="label_status" /></th>
				<c:if test="${label.status == 0}"><td><spring:message code="recommandContainer_status_yes" /></td></c:if>
				<c:if test="${label.status == 1}"><td><spring:message code="recommandContainer_status_no" /></td></c:if>
			</tr>
		</tbody>
	</table>

    <table class="list">
        <thead>
        <tr>
            <th style="width:7%"><spring:message code="productList_productId" /></th>
            <th style="width:25%"><spring:message code="productList_name" /></th>
            <th><spring:message code="productContainer_status" /></th>
            <th><spring:message code="productContainer_modBy" /></th>
            <th><spring:message code="productContainer_modDate" /></th>
            <th style="width:15%"></th>
        </tr>
        </thead>
        <tbody>
        <c:forEach items="${label.products}" var="product" varStatus="_st">
            <tr>
                <td>
                    <c:out value="${product.productId}" />
                </td>
                <td>
                    <a href="${pageContext.request.contextPath}/domain/productlist/show/${product.productId}">${product.name}</a>
                </td>
                <td>
                    <c:if test="${product.downStatus==0}"><spring:message code="productList_status_enable" /></c:if>
                    <c:if test="${product.downStatus==1}"><font color="red"><spring:message code="productList_status_disable" /></font></c:if>
                </td>
                <td>
                    <c:out value="${product.createBy}" />
                </td>
                <td>
                    <fmt:formatDate value="${product.createDate}" type="date" pattern="yyyy-MM-dd" />
                </td>
                <td>

                    <a href="${pageContext.request.contextPath}/domain/label/deleteProdect?lid=${label.labelId}&amp;pid=${product.productId}" class="button button-delete modal miniature">
                        <spring:message code="crud.delete.button" />
                    </a>
                </td>
            </tr>
        </c:forEach>
        </tbody>
    </table>
</body>
</html>