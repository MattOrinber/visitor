<html xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:jsp="http://java.sun.com/JSP/Page" 
xmlns:decorator="http://www.opensymphony.com/sitemesh/decorator" xmlns:c="http://java.sun.com/jsp/jstl/core" 
xmlns:form="http://www.springframework.org/tags/form" xmlns:security="http://www.springframework.org/security/tags" 
xmlns:spring="http://www.springframework.org/tags" version="2.0">
<jsp:output omit-xml-declaration="yes" />
<jsp:directive.page contentType="text/html; charset=UTF-8" />
<head>
	<title><spring:message code="folder" />: <spring:message code="crud.functionalities.example" /></title>
</head>
<body>
	<span class="ui-state-highlight button button-search"><spring:message code="folder" /></span> 
	<a href="${pageContext.request.contextPath}/domain/folder/create" class="button button-create"><spring:message code="crud.functionalities.create" /></a>
	<a href="${pageContext.request.contextPath}/domain/folder/tree" class="button"><spring:message code="folder_site_nodes" /></a>
	
	<form:form action="${pageContext.request.contextPath}/domain/folder/list" modelAttribute="folderSearchForm" class="search">
		<table class="show">
			<tbody>
				<tr>
					<th><spring:message code="folder_folderId" /></th>
					<td>
						<form:input path="folder.folderId" cssClass="number {maxlength: 20}" maxlength="20" size="40"/>
						<form:errors path="folder.folderId" cssClass="error"/>
					</td>
					<th><spring:message code="folder_path" /></th>
					<td>
						<form:input path="folder.path" size="40"/>
						<form:errors path="folder.path" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="folder_name" /></th>
					<td>
						<form:input path="folder.name" cssClass="{maxlength: 200}" maxlength="200" size="40"/>
						<form:errors path="folder.name" cssClass="error"/>
					</td>
					<th><spring:message code="folder_aliasName" /></th>
					<td>
						<form:input path="folder.aliasName" cssClass="{maxlength: 200}" maxlength="200" size="40"/>
						<form:errors path="folder.aliasName" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="folder_parentFolderId" /></th>
					<td >
						<form:hidden id="parentFolderLink" path="folder.parentFolderId" />
						<input type="text" id="parentFolderLabel" size="40" />
						<script>
						function siteFolder(siteId) {
							$('#parentFolderLabel').autocomplete('destroy');
							$('#parentFolderLabel').autocomplete({
								source: "${pageContext.request.contextPath}/domain/rest/folder/autosite/" + siteId + "/",
								select: function(event, ui) {
									$('#parentFolderLink').val(ui.item.id);
									$('#parentFolderLabel').val(ui.item.label);
								}
							});
						}
						</script>
						<form:errors path="folder.parentFolderId" cssClass="error"/>
					</td>
					<th><spring:message code="folder_status" /></th>
					<td >
						<form:radiobutton path="folder.status" value=""/><spring:message code="folder_status_all" />
						<form:radiobutton path="folder.status" value="0" checked="checked"/><spring:message code="folder_status_yes" />
						<form:radiobutton path="folder.status" value="1" /><spring:message code="folder_status_no" />
						<form:errors path="folder.status" cssClass="error"/>
					</td>					
				</tr>
				<tr>
					<th><spring:message code="folder_createBy" /></th>
					<td>
						<form:input path="folder.createBy" />
						<form:errors path="folder.createBy" cssClass="error"/>
					</td>
					<th><spring:message code="folder_createDate" /></th>
					<td>
						<label for="createDateRange.fromDate"><spring:message code="search.date.from" /></label>
						<form:input path="createDateRange.fromDate" cssClass="datepicker" size="15"/>
						<label for="createDateRange.toDate"><spring:message code="search.date.to" /></label>
						<form:input path="createDateRange.toDate" cssClass="datepicker" size="15"/>
						<form:errors path="folder.createDate" cssClass="error"/>
					</td>
				</tr>
				<tr>
					<th><spring:message code="folder_modBy" /></th>
					<td>
						<form:input path="folder.modBy"/>
						<form:errors path="folder.modBy" cssClass="error"/>
					</td>
					<th><spring:message code="folder_modDate" /></th>
					<td>
						<label for="modDateRange.fromDate"><spring:message code="search.date.from" /></label>
						<form:input path="modDateRange.fromDate" cssClass="datepicker" size="15"/>
						<label for="modDateRange.toDate"><spring:message code="search.date.to" /></label>
						<form:input path="modDateRange.toDate" cssClass="datepicker" size="15"/>
						<form:errors path="folder.modDate" cssClass="error"/>
					</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="4">
						<spring:message code="crud.search.button" var="btnMessage"/>
						<input type="submit" class="button button-search" value="${btnMessage}" />
					</td>
				</tr>
			</tfoot>
		</table>
	</form:form>
	<jsp:include page="/domain/folder/list" />
</body>
</html>