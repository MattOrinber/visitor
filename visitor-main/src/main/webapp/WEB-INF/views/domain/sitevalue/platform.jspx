<html xmlns:util="urn:jsptagdir:/WEB-INF/tags/util" xmlns:jsp="http://java.sun.com/JSP/Page" 
xmlns:decorator="http://www.opensymphony.com/sitemesh/decorator" xmlns:c="http://java.sun.com/jsp/jstl/core" 
xmlns:form="http://www.springframework.org/tags/form" xmlns:security="http://www.springframework.org/security/tags" 
xmlns:spring="http://www.springframework.org/tags" version="2.0">
<jsp:output omit-xml-declaration="yes" />
<jsp:directive.page contentType="text/html; charset=UTF-8" />

<head>
	<title>${site.name} <spring:message code="siteValue_platform" />: <spring:message code="crud.functionalities.update" /></title>
</head>
<body>
	<h2><a href="${pageContext.request.contextPath}/domain/site/show/${site.primaryKey}">${site.name}</a> <spring:message code="site" /><spring:message code="siteValue_platform" /><spring:message code="crud.functionalities.update" /></h2>
		<form:form action="${pageContext.request.contextPath}/domain/sitevalue/updateSiteValues" modelAttribute="siteValueSearchForm" method="POST">
			<form:errors cssClass="error"/>
			<form:hidden path="siteValue.siteId" value="${site.siteId}"/>
			<form:hidden path="siteValue.type" value="4"/>
			<table class="edit">
				<thead>
					<th style="width:15%"><spring:message code="siteValue_platform_os" /></th>
					<th style="width:25%"><spring:message code="siteValue_platform_plate" /></th>
					<th><spring:message code="siteValue_platform_version" /></th>
				</thead>
				<tbody>
					<c:forEach items="${platforms}" var="os" >
						<c:forEach items="${os.children}" var="platform" varStatus="status">
							<tr>
								<td>
								<c:if test="${status.first}">
									${platform.parentCategory.name}
								</c:if>
								</td>
								<td>${platform.name}</td>
								<td>
									<form:checkboxes path="site_values" items="${platform.children}" itemLabel="name" itemValue="categoryId"/>
								</td>
							</tr>
						</c:forEach>
					</c:forEach>
				</tbody>
				<tfoot>
					<tr>
						<td colspan="3">
							<spring:message code="crud.save.button" var="saveButton"/>
							<input type="submit" class="button button-save" value="${saveButton}" />
						</td>
					</tr>
				</tfoot>
			</table>
		</form:form>
</body>
</html>